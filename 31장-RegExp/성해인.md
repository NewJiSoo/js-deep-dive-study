# 31. RegExp
## 31.1 정규 표현식이란?

> ***정규 표현식(regular expression)***
> ***
> 일정한 패턴을 가진 문자열의 집합을 표현하기 위해 사용하는 형식 언어(formal language)
> * 자바스크립트의 고유 문법이 아님: 대부분의 프로그래밍 언어, 코드 에디터에 내장
    >   * 자바스크립트는 펄(Perl)의 정규 표현식 문법을 ES3부터 도입


#### 예제 31-01
```Javascript
const tel = '010-1234-567팔'; // 사용자가 입력한 임의의 문자열(휴대폰 전화번호?)

const regExp = /^\d{3}-\d{4}-\d${4}/; // 정규 표현식 리터럴 // 휴대폰 전화번호 패턴 정의

regExp.test(tel); // false // 문자열 tel이 regExp에서 지정한 휴대폰 전화번호 패턴에 매칭하는지 테스트(확인) // 끝에 '팔' 때문에 X
```
* 정규 표현식을 사용하지 않는다면 한 글자씩 체크해야 하는 초월적인 노가다 신세(한 문자씩 연속 체크...??!)
* 정규 표현식을 사용하면 반복문, 조건문 없이 패턴만 정의하고 테스트해도 간단히 체크 가능
    * 단점은 가독성이 좋지 않다는 점: 주석, 공백 허용 안 되고 여러 기호가 혼합되어 사용됨

<br>

## 31.2 정규 표현식의 생성

#### 정규 표현식 객체(RegExp 객체) 생성 방법
1. 정규 표현식 리터럴 사용(일반적)
2. RegExp 생성자 함수 사용

<br>

#### 그림 3-11: 정규 표현식 리터럴 -  패턴과 플래그로 구성됨
![img.png](shi_images%2Fimg.png)

<br>

#### 예제 31-02
```Javascript
const target = 'Is this all there is?';

// 여기서 패턴은 // 사이의 is 
// 플래그는 i -> 얘 뜻은 대소문자 구별하지 않고 검색한다는 뜻
const regexp = /is/i;

// test 메서드는 target 문자열에 대해 정규 표현식 regexp의 패턴을 검색하여 매칭 결과를 boolean 값으로 반환함
regexp.test(target); // true
```


<br>

#### 예제 31-03: RegExp 생성자 함수를 사용하여 RegExp 객체를 생성할 수도 있음
```Javascript
new RegExp(pattern[,flags]) // 말 그대로 pattern은 정규 표현식의 패턴, flags는 정규 표현식의 플래그(g, i, m, u, y)
```

```Javascript
const target = 'Is this all there is?';
const regexp = new RegExp(/is/i);

regexp.test(target); // true
```

<br>

#### 예제 31-04: `RegExp` 생성자 함수를 사용하면 변수로 RegExp 객체를 동적으로 생성 가능
```Javascript
const count = (str, char) => (str.match(new RegExp(char, 'gi')) ?? []).length;


count('Is this all there is?', 'is'); // 3
count('Is this all there is? 'xx'); // 0
```

<br>

## 31.3 RegExp 메서드

> 정규표현식을 사용하는 메서드 목록
> 1. `RegExp.prototype.exec`
> 2. `RegExp.prototype.test`
> 3. `String.prototype.match`
> 4. `String.prototype.replace`
> 5. `String.prototype.search`

<br>

### 31.3.1 RegExp.prototype.exec

#### 예제 31-05
```Javascript
const target = 'Is this all there is?';
const regExp = /is/;

regExp.exec(target); // -> ["is", index: 5, input: "Is this all there is?", groups: undefined]
```
* exec은 매칭 결과가 없는 경우 null을 반환
* ***주의: 문자열 내 모든 패턴을 검색하는 g플래그를 지정해도 첫 번째 매칭 결과만 반환***

<br>

### 31.3.2 RegExp.prototype.test
#### 예제 31-06: test 메서드는 인수로 전달받은 문자열 -> 정규 표현식 패턴 검색 -> 매칭 결과  boolean 값으로 반환
```Javascript
const target = 'Is this all there is?';
const regExp = /is/;

regExp.test(target); // -> true
```

<br>

### 31.3.3 String.prototype.match
* String 표준 빌트인 객체가 제공하는 match 메서드
* 객체가 제공하는 match 메서드 대신 대상 문자열과 인수로 전달받은 정규 표현식의 매칭 결과를 배열로 반환

#### 예제 31-07
```Javascript
const target = 'Is this all there is?';
const regExp = /is/;

target.match(regExp); // -> ["is", index: 5, input: "Is this all there is?", groups: undefined]
```

<br>

#### ***exec메서드***는 문자열 내 모든 패턴을 검색하는 ***g 플래그를 지정해도 첫 번째 매칭 결과만 반환함***

#### 예제 31-08: String.prototype.match에서는 g플래그가 지정되면 모든 매칭 결과를 배열로 반환한다.
```Javascript
const target = 'Is this all there is?';
const regExp = /is/g;

target.match(regExp); // -> ["is", "is"]
```

<br>

## 31.4 플래그
## 31.5 패턴
### 31.5.1 문자열 검색
### 31.5.2 임의의 문자열 검색
### 31.5.3 반복 검색
### 31.5.4 OR 검색
### 31.5.5 NOT 검색
### 31.5.6 시작 위치로 검색
### 31.5.7 마지막 위치로 검색
## 31.6 자주 사용하는 정규표현식
### 31.6.1 특정 단어로 시작하는지 검사
### 31.6.2 특정 단어로 끝나는지 검사
### 31.6.3 숫자로만 이루어진 문자열인지 검사
### 31.6.4 하나 이상의 공백으로 시작하는지 검사
### 31.6.5 아이디로 사용 가능한지 검사
### 31.6.6 메일 주소 형식에 맞는지 검사
### 31.6.7 핸드폰 번호 형식에 맞는지 검사
### 31.6.8 특수 문자 포함 여부 검사

