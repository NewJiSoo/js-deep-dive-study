# 21. 빌트인 객체

## 21.1 자바스크립트 객체의 분류

- 표준 빌트인 객체
  - ECMAScript 사양에 정의된 객체, 자바스크립트 실행환경과 관계 없이 언제나 사용 가능하다
- 호스트 객체
  - ECMAScript 사양에 정의되어 있지 않지만, 자바스크립트 실행환경(브라우저, Node.js)에서 추가로 제공하는 객체
    - DOM, Canvas, fetch, SVG, Web component ...
- 사용자 정의 객체
  - 사용자가 직접 정의한 객체

## 21.2 표준 빌트인 객체

- Object, String, Number, Function, Promise...

- 표준 빌트인 객체 Math, Reflect, JSON을 제외하고 `생성자 함수 객체`이다.

즉, 인스턴스를 만들 수 있으며 프로토타입 메서드와 정적 메서드를 제공한다.

```
const strObj = new String('Lee') // String { 'Lee' }
const str = '123'
console.log(typeof strObj) // object
console.log(typeof str) // string

console.log(strObj.toString()) // "Lee" (객체가 문자열로 변환)
```

new 키워드로 일종의 문자열 객체로 만들어서 감싸는 모습이 있으므로

래퍼 객체(wrapper)로 인식할 수 있다

즉, String 생성자 함수에 의해 String 객체가 생성된 것임

## 21.3 원시값과 래퍼 객체

문자열이나 숫자, 불리언 등의 원시 값이 있는데, String, Number 등

표준 빌트인 생성자 함수가 존재하는 이유가 뭘까?

```
const str = 'hi'
console.log(str.length) // 2
console.log(str.toUpperCase()) // HI
```

위의 예시는 원시값이 객체가 아닌데 프로퍼티나 메서드를 가지면서 동작하기에 객체처럼 쓰인다

원시값을 객체처럼 사용하면 자바스크립트 엔진은 암묵적으로 연관된 객체를 생성해 프로퍼티에 접근하거나 메서드를 호출하고 `다시 원시값`으로 되돌린다

324p

```
1. 식별자 str은 문자열을 값으로 가지고 있다
const str = 'hello'

// 2. 암묵적으로 생성된 래퍼 객체를 가리킨다
// 식별자 str의 값 'hello'는 래퍼 객체의 [[StringData]] 내부 슬롯에 할당
// 래퍼 객체에 name 프로퍼티가 동적 추가
str.name = 'Lee'

3. 식별자 str은 다시 원래의 문자열, 래퍼 객체의 [[StringData]] 내부 슬롯에 할당된 원시 값을 갖는다
str.name에서 생성된 래퍼 객체는 아무도 참조하지 않으므로 가비지 컬렉션의 대상이 된다

4. 2번과는 다르게 암묵적으로 새롭게 래퍼 객체를 가리키고,
// 새롭게 생성된 래퍼 객체에는 name 프로퍼티가 존재하지 않는다.
console.log(str.name) // undefined

5. 다시 원래의 문자열 문자열, 래퍼 객체의 [[StringData]] 내부 슬롯에 할당된 원시 값을 가진다
console.log(typeof str, str) // string hello
```

## 21.4 전역 객체

코드가 실행되기 이전 단계에 자바스크립트 엔진에 의해 어떤 객체보다도 `먼저 생성되는` 특수한 객체이며 최상위 객체이다

브라우저 환경에서는 window, Node.js환경에서는 global이 전역이다

```
ECMAScript2020(ES11)에서 도입된 globalThis는 브라우저 환경과 Node.js환경에서 전역 객체를 가리키던 다양한 식별자를 통일한 식별자다

globalThis === this // true
globalThis === window // true

// Node.js환경(12.0.0이상)
globalThis === global // true
```

전역 객체가 최상위 객체라는 것은 프로토타입 상속 관계상에서 최상위 객체라는 의미는 아니다

전역 객체의 프로퍼티를 참조할 때는 window를 생략할 수 있다

### 21.4.1 빌트인 전역 프로퍼티

### 21.4.2 빌트인 전역 함수

### 21.4.3 암묵적 전역
